{% extends "layouts/main.html" %}
{% set title = "How do you want to tell us about the work they carried out?" %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: "/report/teacher-role/school"
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds-from-desktop">
      <form method="post">
        {% set duties %}
          {% set hintHtml %}
            <p>As far as you know, give details of the work carried out by the person you are referring.</p>
          {% endset %}

          {{ govukTextarea({
            idPrefix: "[report][teacherRole][duties]",
            name: "[report][teacherRole][duties]",
            label: {
              text: "Description of the work carried out",
              classes: "govuk-label--s"
            },
            rows: 10 if isPublic else 20
          }) }}
        {% endset %}

        {% set jobDescription %}
          {{ govukFileUpload({
            idPrefix: "[report][teacherRole][file]",
            name: "[report][teacherRole][file]",
            label: {
              text: "Upload file",
              classes: "govuk-label--s"
            },
            hint: {
              text: "For example, a job description"
            }
          }) }}
        {% endset %}



          {% set h1 %}
            <span class="govuk-caption-xl">
              About their role
            </span>
            {{title}}
          {% endset %}

          {{ govukRadios({
            idPrefix: "[report][teacherRole][how-tell-job]",
            name: "[report][teacherRole][how-tell-job]",
            fieldset: {
              legend: {
                classes: "govuk-fieldset__legend--xl",
                isPageHeading: true,
                html: h1
              }
            },
            items: [
              {
                text: "Upload file",
                value: "upload",
                conditional: {
                  html: jobDescription
                }
              },
              {
                text: "Describe the work carried out",
                value: "describe",
                conditional: {
                  html: duties
                }
              }
            ]
          }) }}

        {{ govukButton({
          text: "Save and continue"
        }) }}
      </form>
    </div>
  </div>
{% endblock %}

